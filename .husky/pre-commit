#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

BACKEND_DIR="server"
FRONTEND_DIR="client"

# FRONTEND LINTING
echo "üîç Linting frontend with lint-staged..." 
cd "$FRONTEND_DIR" || exit 1
npx lint-staged
FRONTEND_RESULT=$?
cd ..

# BACKEND LINTING
echo "üîç Linting backend with dotnet format..."
cd "$BACKEND_DIR" || exit 1
dotnet format --verify-no-changes
BACKEND_RESULT=$?
cd ..

# CHECKS
if [ $FRONTEND_RESULT -ne 0 ] || [ $BACKEND_RESULT -ne 0 ]; then
    echo "‚ùå Pre-commit checks failed. Fix the issues before committing."
    exit 1
fi

echo "‚úÖ All pre-commit checks passed!"




